* amused 0.17; 2025-02-15
- sync'ed subcommand usages with the manpage
- renamed the `prev' subcommand to `previous' for consistency
- renamed the `prev' event to `previous' as well
- improvements to the manpage
- add `shuffle' subcommand

* amused 0.16; 2024-09-01
- unbreak the build on various OSes
- add an oss audio backend
- plug a memory leak in amused-web
- add MPRIS2 support via a separate executable amused-mpris2
- amused-web now daemonizes by default; added -d to stay in the foreground
- fixed a bug in ao and oss backends that made amused advance at the wrong rate

* amused 0.15; 2024-05-26
- fixed build of amused-web on linux
- add songmeta: a song metadata extractor; not build by default
- reworked the portable layer; libmd now it's optional on linux and macos
- amused-web now it's built by default; ./configure --without-web to disable
- added ./configure --with-Werror to build with -Werror

* amused 0.14; 2024-01-21
- amused-web: fix typo in error message
- add a libao audio backend
- add an audio backend for android (using oboe)
- add contrib/amused-termux-notification (for android)
- honour $TMPDIR if set
- update bundled imsg
- switched to the new imsg APIs

* amused 0.13; 2023-09-09
- few configure enhancements: allow CC, CFLAGS and LDADD_LIB_* as args too
- fix the compat test for getdtablecount(3)
- drop the dependency on libevent
- add amused-web to control amused remotely (optional; needs libmd on linux)
- contrib/amusing: use fancy unicode characters for the buttons
- unbreak percentage relative seeking
- contrib/amused-monitor: fix handling of non-ASCII characters (finally!)
- update bundled imsg
- add missing HAVE_IMSG in config.h (from tb@; thanks!)

* amused 0.12; 2023-05-17
- few ALSA backend bug fixes
- set up the onmove callback on ALSA too
- fix build with BACKEND=alsa; from ben, thanks!

* amused 0.11; 2023-05-02
- added support for ALSA
- retry when sio_revents fails with EAGAIN
- log errno too when sio_revents fails
- added contrib/amusing: a GUI written in Tcl/Tk
- amused-monitor: use new extended events info
- enriched `mode' and `seek' events reporting in `amused monitor'
- various minor improvements to amused.1
- amused-monitor: fix error for tracks hours long
- amused-monitor: add pledge
- amused-monitor: fix rewind
- amused-monitor: fix off by one
- fix sndio detection

* amused 0.10; 2022-07-13
- changed the default output of 'amused status'
- print the status after 'amused consume' or 'amused repeat'
- fixed 'amused load' with an empty playlist
- the on|off argument to 'amused consume/repeat' is now optional
- added a consume mode
- pledge earlier
- rework (and document) the events reported by "amused monitor" (some were added/removed)
- added contrib/amused-monitor: ncurses tui written in perl (not installed by default)
- added 'amused status -f <fmt>' to customize the output format
- clarify how non-regular or non-supported files in the playlist are treated
- handle fdopen failures gracefully
- use (a modified version of) kristaps' oconfigure; amused is portable now!
- added ability to seek
- keep track of current position and total duration of the track
- don't get stuck if the server fails to start
- improved error reporting when failing to play a song

* amused 0.9; 2022-06-12
- reset the path buffer; fixes the "malformed data" error during `load'

* amused 0.8; 2022-06-12
- try to recover from mp3 decoding errors
- plug a memory leak in player_dispatch
- don't use realpath(3) in `amused add'
- use a stricter pledge for `amused add'
- use canonpath (from kern_pledge.c) for paths handling
- non-blocking usage of sndio: avoids artificial gaps between tracks
- use sio_flush to stop the playback
- automatically skip all non-regular files, not only directories

* amused 0.7; 2022-05-19
- amused monitor optionally accepts a list of events to report
- consume all enqueued messages before calling imsg_read

* amused 0.6; 2022-05-10
- manpage tweaks
- fix file descriptor leak on player_playnext failure
- added a simple filetype detector instead of relying on file extensions

* amused 0.5; 2022-03-26
- unbreak opus and ogg vorbis
- handle flacs with bps != 16 and/or channels != 2
- speed up `load' a lot (especially over NFS)

* amused 0.4; 2022-03-14
- second part of the "unbreak flac" due to carelessly refactoring

* amused 0.3; 2022-03-13
- unbreak flac: add back missing counter reset

* amused 0.2; 2022-03-10
- keep the current song if `load' input was generated by show -p
- update the current song after `load' if the player was stopped
- follow tmux behavior wrt how the daemon is automatically started
- changed the output of `amused status' to simplify parsing
- correctly handle arguments for subcommands
- correctly pledge the player process with "stdio recvfd audio"
- manpage improvements

* amused 0.1; 2022-02-24
- first public version (and probably last too, the thing is finished)
